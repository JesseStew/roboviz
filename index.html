<!DOCTYPE html>
<html lang="en">
    <head>
        <title>RoboViz</title>
        <meta name="Content-Type" content="text/html; charset=UTF-8" />
        <link type="text/css" rel="stylesheet" href="css/style.css" />
    </head>
    <body id='dropZone'>
        <div id="model1Ctrls" class='model-controls' data-state="expanded">
            <span class="toggle" for="model-controls">&#9776</span>
            <h3 class="model-title">FISH</h4>
            <select for="model-group" id="model1GroupName">
                <option value="1">group name</option>
                <option value="2">group name</option>
                <option value="3">group name</option>
            </select>
            <div class="control control-color">
                <h4>colors:</h4>
                <div class="colors">
                    <!-- TOOD: consider a slider for hue, sat., val., etc. -->
                    <a href="#" data-color="0xff0000">red</a>
                    <a href="#" data-color="0x0000ff">blue</a>
                    <a href="#" data-color="0x00ff00">green</a>
                    <a href="#" data-color="0xffff00">yellow</a>
                </div>
                <label for="hex">hex:</label>
                <input id="model1HexVal" name="hex" type="text" />
            </div>
            <div class="control control-texture">
                <h4>textures:</h4>
                <div class="textures">
                    <a href="#" data-texture="/images/texture1.png"></a>
                    <a href="#" data-texture="/images/texture2.png"></a>
                    <a href="#" data-texture="/images/texture3.png"></a>
                </div>
            </div>
            <div class="control-transparency">
                <h4>transparency:</h4>
                <input type="range" list="model1Transparency" step="10">
                <datalist id="model1Transparency">
                    <option value="0">
                    <option value="10">
                    <option value="20">
                    <option value="30">
                    <option value="40">
                    <option value="50">
                    <option value="60">
                    <option value="70">
                    <option value="80">
                    <option value="90">
                    <option value="100">
                </datalist>
            </div>
        </div>

        <div class='logfile-controls'>
        </div>

        <div class='playback-controls'>
            <input type="range" list="model1Speed">
            <datalist id="model1Speed">
                <option value="0">
                <option value="10">
                <option value="20">
                <option value="30">
                <option value="40">
                <option value="50">
                <option value="60">
                <option value="70">
                <option value="80">
                <option value="90">
                <option value="100">
            </datalist>
            <button id="model1PlayPause" data-toggle="play"></button>
            <input type="range" list="model1Time">
            <datalist id="model1Time">
                <option value="0">
                <option value="10">
                <option value="20">
                <option value="30">
                <option value="40">
                <option value="50">
                <option value="60">
                <option value="70">
                <option value="80">
                <option value="90">
                <option value="100">
            </datalist>
        </div>

        <!-- js -->
        <script src="vendor/three.js"></script>
        <script src="data/models.js"></script>
        <script src="js/OrbitControls.js"></script>
        <script src="js/visualizer.js"></script>
        <script>
            const fps = 60,
                  visualizer = Visualizer(fps),
                  modelCtrls = document.getElementById('model1Ctrls'),
                  toggle = document.querySelector(".toggle[for='model-controls']"),
                  playPauseBtn = document.getElementById('model1PlayPause');

            // Initialize the application
            visualizer.init();


            //
            // Set up some event listeners for testing
            //

            // Model controls menu
            toggle.addEventListener('click', (evt) => {
                const state = modelCtrls.dataset.state;
                if (state === "collapsed") {
                    modelCtrls.dataset.state = "expanded";
                }
                else {
                    modelCtrls.dataset.state = "collapsed";
                }
            });

            // Play/pause button
            playPauseBtn.addEventListener('click', (evt) => {
                const state = evt.target.dataset.toggle;
                if (state === "play") {
                    visualizer.pause();
                    evt.target.dataset.toggle = "pause";
                }
                else {
                    visualizer.play();
                    evt.target.dataset.toggle = "play";
                }
            });


        </script>
    </body>
</html>
